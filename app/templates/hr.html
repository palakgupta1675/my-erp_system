<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HR Management</title>
<style>
/* Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Body & Layout */
body {
    font-family: Arial, sans-serif;
    display: flex;
    min-height: 100vh;
    background-color: #f4f6f7;
}

/* Sidebar */
.sidebar {
    width: 220px;
    background-color: teal;
    min-height: 100vh;
    padding: 20px;
}
.sidebar h2 {
    color: #fff;
    text-align: center;
    margin-bottom: 25px;
    font-size: 22px;
}
.sidebar a {
    display: block;
    color: #e0f7fa;
    padding: 12px 15px;
    border-radius: 5px;
    margin-bottom: 8px;
    text-decoration: none;
    font-weight: bold;
    transition: 0.3s;
}
.sidebar a:hover, .sidebar a.active {
    background-color: #004d4d;
    color: white;
}

/* Main content */
.content {
    flex: 1;
    padding: 25px;
}
.container {
    background-color: #fff;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

/* Page heading */
.container h1 {
    text-align: center;
    color: teal;
    margin-bottom: 30px;
}

/* Form styling - perfect alignment */
form {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-bottom: 35px;
}
.form-group {
    display: flex;
    flex-direction: column;
    flex: 1 1 220px; /* Minimum width for alignment */
}
.form-group label {
    font-weight: bold;
    color: #555;
    margin-bottom: 6px;
}
.form-group input,
.form-group select {
    padding: 9px 10px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 14px;
}

/* Submit button */
form button {
    padding: 10px 25px;
    background-color: teal;
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
    margin-top: 10px;
}
form button:hover {
    background-color: #004d4d;
}

/* Table styling */
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}
th, td {
    padding: 12px 10px;
    border: 1px solid #ddd;
    text-align: center;
    font-size: 14px;
}
th {
    background-color: teal;
    color: white;
}
tr:hover {
    background-color: #e0f7fa;
}

/* Table buttons */
.btn-edit, .btn-delete {
    padding: 5px 10px;
    border: none;
    border-radius: 5px;
    font-size: 13px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
}
.btn-edit { background-color: #FFA500; color: white; }
.btn-edit:hover { background-color: #cc8400; }
.btn-delete { background-color: #f44336; color: white; }
.btn-delete:hover { background-color: #c12f27; }

/* Responsive */
@media(max-width: 768px){
    body {
        flex-direction: column;
    }
    .sidebar {
        width: 100%;
        min-height: auto;
    }
    form button {
        width: 100%;
    }
}
</style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
    <h2>ERP System</h2>
    <a href="{{ url_for('index') }}">Home</a>
    <a href="{{ url_for('inventory') }}">Inventory</a>
    <a href="{{ url_for('sales') }}">Sales</a>
    <a href="{{ url_for('product') }}">Product</a>
    <a href="{{ url_for('purchase') }}">Purchase</a>
    <a href="{{ url_for('hr') }}" class="active">Human Resource</a>
    <a href="{{ url_for('account') }}">Accounts</a>
    <a href="{{ url_for('contact_us') }}">Contact Us</a>
</div>

<!-- Main Content -->
<div class="content">
<div class="container">
    <h1>HR Records</h1>

    <!-- Add / Update Form -->
    <form method="POST" action="{{ url_for('hr') }}">
        <input type="hidden" name="emp_id" value="{{ edit_data[0] if edit_data else '' }}">

        <div class="form-group">
            <label>Name:</label>
            <input type="text" name="name" value="{{ edit_data[1] if edit_data else '' }}">
        </div>
        <div class="form-group">
            <label>Email:</label>
            <input type="email" name="email" value="{{ edit_data[2] if edit_data else '' }}">
        </div>
        <div class="form-group">
            <label>Phone:</label>
            <input type="text" name="phone" value="{{ edit_data[3] if edit_data else '' }}">
        </div>
        <div class="form-group">
            <label>Department:</label>
            <input type="text" name="department" value="{{ edit_data[4] if edit_data else '' }}">
        </div>
        <div class="form-group">
            <label>Designation:</label>
            <input type="text" name="designation" value="{{ edit_data[5] if edit_data else '' }}">
        </div>
        <div class="form-group">
            <label>Joining Date:</label>
            <input type="date" name="joining_date" value="{{ edit_data[6] if edit_data else '' }}">
        </div>
        <div class="form-group">
            <label>Salary:</label>
            <input type="number" step="0.01" name="salary" value="{{ edit_data[7] if edit_data else '' }}">
        </div>

        <button type="submit">{{ 'Update' if edit_data else 'Save' }}</button>
    </form>

    <hr>

    <!-- Search Form -->
    <h3>Search Employee by Phone</h3>
    <form method="POST" action="{{ url_for('hr') }}">
        <input type="text" name="search_phone" placeholder="Enter phone number" value="{{ search_value }}">
        <button type="submit">Search</button>
    </form>

    <!-- HR Table -->
    <table>
        <thead>
        <tr>
            <th>ID</th><th>Name</th><th>Email</th><th>Phone</th>
            <th>Department</th><th>Designation</th><th>Joining Date</th><th>Salary</th><th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for row in employees %}
        <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
            <td>{{ row[3] }}</td>
            <td>{{ row[4] }}</td>
            <td>{{ row[5] }}</td>
            <td>{{ row[6] }}</td>
            <td>â‚¹{{ row[7] }}</td>
            <td>
                <a href="{{ url_for('edit_hr', emp_id=row[0]) }}">
                    <button type="button" class="btn-edit">Edit</button>
                </a>
                <form class="inline" method="POST" action="{{ url_for('delete_hr', emp_id=row[0]) }}" style="display:inline;">
                    <button type="submit" class="btn-delete" onclick="return confirm('Are you sure to delete this employee?');">Delete</button>
                </form>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
</div>

</body>

</html>
